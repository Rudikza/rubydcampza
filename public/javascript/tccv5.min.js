/*! Trinkaus Creative Consultants v5 - v0.5.6 - 2014-07-01
* Copyright (c) 2014 Sascha Michael Trinkaus; */
function isScrolledIntoView(elem){if(0===$(elem).length)return!1;var docViewTop=$(window).scrollTop(),docViewBottom=docViewTop+$(window).height(),elemTop=$(elem).offset().top,elemBottom=elemTop+$(elem).height();return docViewBottom>=elemTop&&elemBottom>=docViewTop}$("[data-translate]").jqTranslate("index",{asyncLangLoad:!0,fallbackLang:"en",path:"locale",cache:!0}),document.documentElement.setAttribute("data-ua",navigator.userAgent);var dom={siteLoader:$(".loader-wrapper"),intro:$(".intro"),uspFeature:$(".usp__feature"),processSketch:$(".process__sketch"),car:$(".car"),introH1:$(".intro__header h1"),introH1Span:$(".intro__header h1 span.load"),introH2:$(".intro__header h2"),formErrorEmpty:$(".form__error:empty"),workMore:$("a.work__more"),workGroupFirst:$(".work .group:first-of-type"),workGroupShown:$(".work .group.shown"),workGroupImg:$(".work .group.shown img")};dom.formErrorEmpty.remove(),uspFeatureView=function(){isScrolledIntoView(dom.uspFeature)&&dom.uspFeature.addClass("appear")},processSketchView=function(){isScrolledIntoView(dom.processSketch)&&dom.processSketch.addClass("appear")},workView=function(){isScrolledIntoView(dom.workGroupFirst)&&dom.workGroupFirst.removeClass("disappear")},$.fn.nextOrFirst=function(selector){var next=this.next(selector);return next.length?next:this.prevAll(selector).last()},$.fn.prevOrLast=function(selector){var prev=this.prev(selector);return prev.length?prev:this.nextAll(selector).last()},$(document).ready(function(){function initialize(){var mapOptions={center:new google.maps.LatLng(50.938643,6.9524722),zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP};new google.maps.Map(document.getElementById("map-canvas"),mapOptions)}$(window).on("scroll",function(){uspFeatureView(),processSketchView(),workView()}),uspFeatureView(),processSketchView(),workView(),$("#language").click(function(){$(this).hasClass("german")?$("[data-translate]").jqTranslate("index",{path:"locale",forceLang:"de"}):$("[data-translate]").jqTranslate("index",{path:"locale",forceLang:"en"})}),$(".carImage").load(function(){setTimeout(function(){dom.siteLoader.remove(),dom.intro.addClass("show"),dom.introH1.addClass("show"),dom.introH1Span.addClass("loader").one("webkitAnimationEnd mozAnimationEnd oAnimationEnd msAnimationEnd animationend",function(){$(this).remove(),dom.car.addClass("show").one("webkitTransitionEnd mozTransitionEnd oTransitionEnd msTransitionEnd transitionend",function(){dom.introH2.addClass("show")})})},100)}),dom.workMore.click(function(){$(".work .group.shown").addClass("disappear").one("webkitTransitionEnd mozTransitionEnd oTransitionEnd msTransitionEnd transitionend",function(){$(this).removeClass("shown").addClass("hidden").nextOrFirst().addClass("shown").removeClass("hidden"),setTimeout(function(){$(".work .group.shown").removeClass("disappear")},50)})}),dom.introH1.click(function(e){e.preventDefault(),dom.introH1Span.remove(),dom.car.toggleClass("show").one("webkitTransitionEnd mozTransitionEnd oTransitionEnd msTransitionEnd transitionend",function(){dom.introH2.addClass("zoomIn")})}),google.maps.event.addDomListener(window,"load",initialize)});